# Modern widgets for Lovelace (Smart Climate + home status)
# Requires custom cards from HACS:
# - Mushroom (strategy and cards)
# - stack-in-card
# Optional:
# - card-mod (for deeper style tweaks)
#
# How to use:
# 1) Open Dashboard -> Edit -> Raw configuration editor.
# 2) Paste desired card blocks from this file.
# 3) Replace example entity_ids with your own.

# -------------------------------------------------------------------
# 1) SPACES WIDGET (in style: "–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞")
# -------------------------------------------------------------------
type: custom:stack-in-card
mode: vertical
cards:
  - type: markdown
    content: |
      ## –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

  - type: custom:mushroom-template-card
    icon: mdi:home-thermometer
    primary: –°—Ä–µ–¥–Ω–µ–µ –ø–æ –¥–æ–º—É
    secondary: >
      {{ states('sensor.umnyi_klimat_home_average_temp') }} ¬∞C
    icon_color: blue-grey
    layout: horizontal
    tap_action:
      action: more-info
      entity: sensor.umnyi_klimat_home_average_temp

  - type: grid
    columns: 3
    square: false
    cards:
      - type: custom:mushroom-template-card
        icon: mdi:sofa-outline
        icon_color: brown
        primary: –ó–∞–ª
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_zal_current_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_zal_current_temp

      - type: custom:mushroom-template-card
        icon: mdi:bed-king-outline
        icon_color: amber
        primary: –°–ø–∞–ª—å–Ω—è
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_spalnia_current_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_spalnia_current_temp

      - type: custom:mushroom-template-card
        icon: mdi:fridge-outline
        icon_color: green
        primary: –ö—É—Ö–Ω—è
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_kukhnia_current_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_kukhnia_current_temp

      - type: custom:mushroom-template-card
        icon: mdi:shower
        icon_color: light-blue
        primary: –í–∞–Ω–Ω–∞—è
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_vannaia_current_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_vannaia_current_temp

      - type: custom:mushroom-template-card
        icon: mdi:door
        icon_color: pink
        primary: –ö–æ—Ä–∏–¥–æ—Ä
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_koridor_current_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_koridor_current_temp

      - type: custom:mushroom-template-card
        icon: mdi:weather-partly-cloudy
        icon_color: cyan
        primary: –£–ª–∏—Ü–∞
        secondary: >
          üå° {{ states('sensor.umnyi_klimat_outdoor_temp') }} ¬∞C
        tap_action:
          action: more-info
          entity: sensor.umnyi_klimat_outdoor_temp

# -------------------------------------------------------------------
# 2) NOTIFICATIONS WIDGET (in style: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")
# -------------------------------------------------------------------
---
type: custom:stack-in-card
mode: vertical
cards:
  - type: markdown
    content: |
      ## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

  - type: markdown
    content: >
      **ü™ü –û–∫–Ω–∞**

      {% set open_windows = expand('group.windows_all') | selectattr('state','eq','on') |
      map(attribute='name') | list %}
      {% if open_windows | count > 0 %}
      –û—Ç–∫—Ä—ã—Ç—ã: {{ open_windows | join(', ') }}
      {% else %}
      –ó–∞–∫—Ä—ã—Ç—ã
      {% endif %}

  - type: markdown
    content: >
      **üö™ –î–≤–µ—Ä–∏**

      {% set open_doors = expand('group.doors_all') | selectattr('state','eq','on') |
      map(attribute='name') | list %}
      {% if open_doors | count > 0 %}
      –û—Ç–∫—Ä—ã—Ç—ã: {{ open_doors | join(', ') }}
      {% else %}
      –ó–∞–∫—Ä—ã—Ç—ã
      {% endif %}

  - type: markdown
    content: >
      **ü§ñ –ü—ã–ª–µ—Å–æ—Å**

      –°—Ç–∞—Ç—É—Å: {{ states('vacuum.robot') }} ‚Ä¢ –ë–∞—Ç–∞—Ä–µ—è: {{ state_attr('vacuum.robot',
      'battery_level') }}%

  - type: markdown
    content: >
      **üß∫ –°—É—à–∏–ª–∫–∞**

      –°—Ç–∞—Ç—É—Å: {{ states('sensor.dryer_status') }} ‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å: {{ states('sensor.dryer_progress') }}

  - type: markdown
    content: >
      **ü´ñ –ß–∞–π–Ω–∏–∫**

      –°—Ç–∞—Ç—É—Å: {{ states('switch.kettle') }} ‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {{ states('sensor.kettle_temperature') }} ¬∞C

# -------------------------------------------------------------------
# 3) CLIMATE CONTROL WIDGET (in style: large "–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä")
# -------------------------------------------------------------------
---
type: custom:stack-in-card
mode: vertical
cards:
  - type: markdown
    content: |
      ## –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä

  # Replace climate.living_room_ac with your real climate entity.
  - type: thermostat
    entity: climate.living_room_ac
    features:
      - type: climate-hvac-modes
        hvac_modes:
          - "off"
          - cool
          - heat
          - auto
      - type: climate-fan-modes
      - type: climate-preset-modes

  - type: grid
    columns: 2
    square: false
    cards:
      - type: tile
        entity: select.umnyi_klimat
        name: –†–µ–∂–∏–º Smart Climate
      - type: tile
        entity: select.umnyi_klimat_2
        name: –ü—Ä–æ—Ñ–∏–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
